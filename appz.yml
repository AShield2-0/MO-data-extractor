app:
    name: MO-data-extractor
    code: MO-data-extractor
    notify: ashield-alerts@ecloudcontrol.com

build:
    version: 20.11
    env: PROD3
    build_file: none
    output_files: output/*.zip
    image_template: node-20.11
    
deploy:
    context: bajaj/PROD3
    type: statefulset
    replicas: 1
    port:
    - 8080

volumes:
  - claim: mo-data
    mount: /app/out
    name: data
    size: 5Gi
    matchLabels: false

properties:
    AZURE_CONNECTION_STRING:
          vault: AZURE_CONNECTION_STRING
    DB_MONGO_1A: "mongo-4-2-0.mongo-4-2"
    DB_MONGO_2B: "mongo-4-2-1.mongo-4-2"
    DB_MONGO_3C: "mongo-4-2-2.mongo-4-2"
    MONGOUSER: moextractuser
    MONGOPASSWORD: 
        vault: MONGOPASSWORD
    MONGODB_SERVICE: 27017
    NODE_ENV: "dev"
    revision: 05
